# News Hub Environment Configuration
# Copy this file to .env and modify as needed

# === Application ===
APP_NAME=News Hub
DEBUG=true
API_V1_PREFIX=/api/v1

# === Security ===
# IMPORTANT: Change this in production!
SECRET_KEY=your-super-secret-key-change-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=10080

# === MongoDB ===
MONGODB_URL=mongodb://localhost:27017
MONGODB_DB_NAME=news_hub

# === Elasticsearch ===
ELASTICSEARCH_URL=http://localhost:9200
ELASTICSEARCH_INDEX_PREFIX=news_hub
# ELASTICSEARCH_USERNAME=elastic
# ELASTICSEARCH_PASSWORD=your-password

# === Vector Model ===
EMBEDDING_MODEL_NAME=shibing624/text2vec-base-chinese
EMBEDDING_DIMENSION=768

# === CORS ===
CORS_ORIGINS=http://localhost:5173,http://127.0.0.1:5173

# === Collector ===
COLLECTOR_REQUEST_TIMEOUT=30
COLLECTOR_DEFAULT_INTERVAL_MINUTES=30

# === Media Proxy ===
MEDIA_CACHE_DIR=./cache/media
MEDIA_CACHE_MAX_AGE_HOURS=24

# === AI Assistant ===
# OPENAI_API_KEY=your-openai-api-key
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-4o-mini
OPENAI_TIMEOUT=30
OPENAI_MAX_RETRIES=1

# === External Search Providers ===
# Tavily (optional fallback)
# TAVILY_API_KEY=your-tavily-key

# SearXNG (recommended primary)
SEARXNG_BASE_URL=http://localhost:8080
# SEARXNG_API_KEY=optional-searxng-api-key
EXTERNAL_SEARCH_TIMEOUT=15
EXTERNAL_SEARCH_DEFAULT_PROVIDER=auto
EXTERNAL_SEARCH_FALLBACK_PROVIDER=tavily
EXTERNAL_SEARCH_DEFAULT_LIMIT=10

# === Crawl4AI Docker Service ===
CRAWL4AI_BASE_URL=http://localhost:11235
# CRAWL4AI_API_TOKEN=optional-api-token
CRAWL4AI_TIMEOUT=60

# === External Ingestion Governance ===
EXTERNAL_INGEST_MAX_CONCURRENCY=4
EXTERNAL_INGEST_RETRY_ATTEMPTS=2
EXTERNAL_INGEST_RETRY_BACKOFF_SECONDS=0.75
EXTERNAL_INGEST_DOMAIN_INTERVAL_SECONDS=0.5
EXTERNAL_INGEST_MIN_QUALITY_SCORE=0.15
